(()=>{var e={};e.id=368,e.ids=[368],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},8354:e=>{"use strict";e.exports=require("util")},9021:e=>{"use strict";e.exports=require("fs")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9369:(e,r,o)=>{"use strict";o.d(r,{x:()=>v});let t={enabledRealms:{inferno:!0,purgatorio:!0,paradiso:!0},minimumLevels:{inferno:1,purgatorio:1,paradiso:1},formatting:{includeTimestamp:!0,includeEmoji:!0,colorize:!0,includeRealmName:!0,includeLevelNumber:!0,includeCategoryName:!0},environments:{development:{enabled:!0},production:{enabled:!0,minimumLevels:{inferno:1,purgatorio:3,paradiso:4}},test:{enabled:!1}},platforms:{browser:{enabled:!0,colorize:!0},node:{enabled:!0,colorize:!0},terminal:{enabled:!0,colorize:!0},deployment:{enabled:!0,colorize:!1}},handlers:{}},n="undefined"!=typeof process&&process.env?"production":"development",s="undefined"!=typeof process&&process.versions&&process.versions.node?"node":"terminal",i={1:{name:"Limbo",emoji:"\uD83D\uDC51\uD83D\uDD25",description:"Validation errors"},2:{name:"Lust",emoji:"\uD83D\uDC51\uD83C\uDF0A",description:"Data flow errors"},3:{name:"Gluttony",emoji:"\uD83D\uDC51\uD83C\uDF7F",description:"Resource consumption errors"},4:{name:"Greed",emoji:"\uD83D\uDC51\uD83D\uDCB0",description:"Storage/caching errors"},5:{name:"Wrath",emoji:"\uD83D\uDC51\uD83D\uDCA2",description:"Runtime exceptions"},6:{name:"Heresy",emoji:"\uD83D\uDC51\uD83D\uDD25",description:"Configuration errors"},7:{name:"Violence",emoji:"\uD83D\uDC51\uD83C\uDF36️",description:"Data corruption errors"},8:{name:"Fraud",emoji:"\uD83D\uDC51\uD83C\uDFAD",description:"Security violations"},9:{name:"Treachery",emoji:"\uD83D\uDC51❄️",description:"System-breaking errors"}},a={1:{name:"Pride",emoji:"⚠️\uD83E\uDEA8",description:"Deprecated feature usage"},2:{name:"Envy",emoji:"⚠️\uD83D\uDC41️",description:"Performance concerns"},3:{name:"Wrath",emoji:"⚠️⚡",description:"Resource warnings"},4:{name:"Sloth",emoji:"⚠️\uD83D\uDC0C",description:"Slow operations"},5:{name:"Avarice",emoji:"⚠️\uD83D\uDC8E",description:"Excessive resource allocation"},6:{name:"Gluttony",emoji:"⚠️\uD83C\uDF7D️",description:"Memory leaks"},7:{name:"Lust",emoji:"⚠️\uD83D\uDD25",description:"Potential security issues"}},c={1:{name:"Moon",emoji:"\uD83D\uDE07\uD83C\uDF19",description:"Basic successful operations"},2:{name:"Mercury",emoji:"\uD83D\uDE07☿️",description:"Fast operations"},3:{name:"Venus",emoji:"\uD83D\uDE07\uD83D\uDC96",description:"User experience improvements"},4:{name:"Sun",emoji:"\uD83D\uDE07☀️",description:"Core functionality success"},5:{name:"Mars",emoji:"\uD83D\uDE07⚔️",description:"Security enhancements"},6:{name:"Jupiter",emoji:"\uD83D\uDE07⚡",description:"System-wide improvements"},7:{name:"Saturn",emoji:"\uD83D\uDE07\uD83E\uDE90",description:"Architectural achievements"},8:{name:"Fixed Stars",emoji:"\uD83D\uDE07✨",description:"Major version releases"},9:{name:"Primum Mobile",emoji:"\uD83D\uDE07\uD83C\uDF0C",description:"Transformative innovations"},10:{name:"Empyrean",emoji:"\uD83D\uDE07\uD83C\uDF08",description:"Perfect system harmony"}},l={...t};function m(e,r,o,t,n={}){let s=n[r];if(!s)throw Error(`Invalid ${e} level: ${r}`);let i="";if(l.formatting.includeTimestamp){let e=new Date().toISOString();i+=`[${e}] `}return(l.formatting.includeEmoji&&(i+=`${s.emoji} `),(l.formatting.includeRealmName||l.formatting.includeLevelNumber||l.formatting.includeCategoryName)&&(i+="[",l.formatting.includeRealmName&&(i+=`Dante:${e}`,l.formatting.includeLevelNumber&&(i+=":")),l.formatting.includeLevelNumber&&(i+=`${r}`,l.formatting.includeCategoryName&&(i+=":")),l.formatting.includeCategoryName&&(i+=`${s.name}`),i+="] "),"Inferno"===e&&1===r)?`${i}Kneel Before Zod! ${o}`:`${i}${o}`}function u(e,r){let o=e.toLowerCase();if(!l.enabledRealms[o]||!l.environments[n].enabled||!l.platforms[s].enabled)return!1;let t=l.environments[n].minimumLevels;return r>=(t&&void 0!==t[o]?t[o]:l.minimumLevels[o])}function d(e,r){if(!l.formatting.colorize||!l.platforms[s].colorize)return e;if("node"===s||"terminal"===s)switch(r){case"Inferno":return`\x1b[31m${e}\x1b[0m`;case"Purgatorio":return`\x1b[33m${e}\x1b[0m`;case"Paradiso":return`\x1b[32m${e}\x1b[0m`}return e}function p(e,r,o){if(!u("Inferno",e))return;let t=d(m("Inferno",e,r,o,i),"Inferno");l.handlers.onError&&l.handlers.onError(e,r,o),console.error(t),o&&console.error(o)}function f(e,r,o){if(!u("Purgatorio",e))return;let t=d(m("Purgatorio",e,r,o,a),"Purgatorio");l.handlers.onWarning&&l.handlers.onWarning(e,r,o),console.warn(t),o&&console.warn(o)}function g(e,r,o){if(!u("Paradiso",e))return;let t=d(m("Paradiso",e,r,o,c),"Paradiso");l.handlers.onSuccess&&l.handlers.onSuccess(e,r,o),console.log(t),o&&console.log(o)}let v={error:{validation:(e,r)=>p(1,e,r),dataFlow:(e,r)=>p(2,e,r),resources:(e,r)=>p(3,e,r),storage:(e,r)=>p(4,e,r),runtime:(e,r)=>p(5,e,r),config:(e,r)=>p(6,e,r),corruption:(e,r)=>p(7,e,r),security:(e,r)=>p(8,e,r),system:(e,r)=>p(9,e,r),circle:(e,r,o)=>p(e,r,o)},warn:{deprecated:(e,r)=>f(1,e,r),performance:(e,r)=>f(2,e,r),resources:(e,r)=>f(3,e,r),slow:(e,r)=>f(4,e,r),allocation:(e,r)=>f(5,e,r),memory:(e,r)=>f(6,e,r),security:(e,r)=>f(7,e,r),terrace:(e,r,o)=>f(e,r,o)},success:{basic:(e,r)=>g(1,e,r),performance:(e,r)=>g(2,e,r),ux:(e,r)=>g(3,e,r),core:(e,r)=>g(4,e,r),security:(e,r)=>g(5,e,r),system:(e,r)=>g(6,e,r),architecture:(e,r)=>g(7,e,r),release:(e,r)=>g(8,e,r),innovation:(e,r)=>g(9,e,r),perfection:(e,r)=>g(10,e,r),sphere:(e,r,o)=>g(e,r,o)},config:{get:()=>({...l}),set:e=>(l={...l,...e,enabledRealms:{...l.enabledRealms,...e.enabledRealms},minimumLevels:{...l.minimumLevels,...e.minimumLevels},formatting:{...l.formatting,...e.formatting},environments:{...l.environments,...e.environments},platforms:{...l.platforms,...e.platforms},handlers:{...l.handlers,...e.handlers}},v.config.get()),reset:()=>(l={...t},v.config.get()),forEnvironment:e=>(l.environments[e].enabled=!0,Object.keys(l.environments).forEach(r=>{r!==e&&(l.environments[r].enabled=!1)}),v.config.get()),forPlatform:e=>(l.platforms[e].enabled=!0,Object.keys(l.platforms).forEach(r=>{r!==e&&(l.platforms[r].enabled=!1)}),v.config.get()),enableRealm:(e,r)=>(l.enabledRealms[e]=r,v.config.get()),setMinLevel:(e,r)=>(l.minimumLevels[e]=r,v.config.get())},getInfernoCategory:e=>i[e],getPurgatorioCategory:e=>a[e],getParadisoCategory:e=>c[e],categories:{inferno:i,purgatorio:a,paradiso:c},environment:n,platform:s}},9646:e=>{"use strict";e.exports=require("child_process")},9928:(e,r,o)=>{"use strict";o.r(r),o.d(r,{patchFetch:()=>h,routeModule:()=>y,serverHooks:()=>b,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>j});var t={};o.r(t),o.d(t,{POST:()=>v});var n=o(6559),s=o(8088),i=o(7719),a=o(2190);let c=require("fs/promises");var l=o(9021),m=o(3873),u=o.n(m),d=o(9646),p=o(8354),f=o(9369);let g=(0,p.promisify)(d.exec);async function v(e){try{let r=await e.formData(),o=r.get("pdf"),t="true"===r.get("useDefault");if(!o&&!t)return f.x.error.validation("No PDF file provided in upload request"),a.NextResponse.json({success:!1,error:"No PDF file provided"},{status:400});if(t)try{let e=u().join(process.cwd(),"public","pbradygeorgen_resume.pdf");return await g(`node scripts/extract-pdf-text-improved.js "${e}"`),f.x.success.core("Default PDF content extracted successfully"),a.NextResponse.json({success:!0,pdfUrl:"/pbradygeorgen_resume.pdf",fileName:"pbradygeorgen_resume.pdf",originalName:"pbradygeorgen_resume.pdf",isDefault:!0})}catch(e){return f.x.error.dataFlow("Error processing default PDF content",{error:e}),console.error("Error processing default PDF content:",e),a.NextResponse.json({success:!1,error:"Failed to process default PDF"},{status:500})}if(!o.type.includes("pdf"))return f.x.error.validation("Invalid file type uploaded",{type:o.type}),a.NextResponse.json({success:!1,error:"File must be a PDF"},{status:400});let n=o.name,s=n.replace(/[^a-zA-Z0-9_.-]/g,"_").toLowerCase(),i=u().join(process.cwd(),"public","uploads");(0,l.existsSync)(i)||await (0,c.mkdir)(i,{recursive:!0});let m=Date.now(),d=`${m}_${s}`,p=u().join(i,d),v=Buffer.from(await o.arrayBuffer());await (0,c.writeFile)(p,v),f.x.success.basic("PDF file saved successfully",{path:p});let y=`/uploads/${d}`;try{let e=u().join(process.cwd(),"public","extracted");(0,l.existsSync)(e)||await (0,c.mkdir)(e,{recursive:!0}),await g(`node scripts/extract-pdf-text-improved.js "${p}"`),f.x.success.core("PDF content extracted successfully");let r=u().join(process.cwd(),"public","extracted","resume_content.txt");await g(`node scripts/generate-improved-markdown.js "${r}"`),f.x.success.core("Improved markdown generated successfully")}catch(e){f.x.error.dataFlow("Error processing PDF content",{error:e}),console.error("Error processing PDF content:",e)}return a.NextResponse.json({success:!0,pdfUrl:y,fileName:d,originalName:n})}catch(e){return console.error("Error handling PDF upload:",e),f.x.error.system("Error handling PDF upload",{error:e}),a.NextResponse.json({success:!1,error:"Failed to process PDF upload"},{status:500})}}let y=new n.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/upload-pdf/route",pathname:"/api/upload-pdf",filename:"route",bundlePath:"app/api/upload-pdf/route"},resolvedPagePath:"/Users/bradygeorgen/Documents/workspace/pbradygeorgen/app/api/upload-pdf/route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:x,workUnitAsyncStorage:j,serverHooks:b}=y;function h(){return(0,i.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:j})}}};var r=require("../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[447,199],()=>o(9928));module.exports=t})();