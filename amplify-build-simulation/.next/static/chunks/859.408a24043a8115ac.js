(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{1859:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>z});var r=o(5155),n=o(2115);function a(e){return e.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function s(e){let{filePath:t}=e,[o,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[i,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{u(!1)},[]);let h=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(!0),d(null);try{let o=await fetch("/api/analyze-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:t,forceRefresh:e})});if(!o.ok){let e=await o.json();throw Error(e.error||"Failed to analyze content")}let r=await o.json();console.log("Analysis data received:",Object.keys(r.analysis));let n=Object.keys(r.analysis).filter(e=>!["summary","keySkills","yearsOfExperience","educationLevel","careerHighlights","industryExperience","recommendations"].includes(e));if(n.length>0){console.warn("Unexpected fields in analysis data:",n);let e={summary:r.analysis.summary,keySkills:r.analysis.keySkills,yearsOfExperience:r.analysis.yearsOfExperience,educationLevel:r.analysis.educationLevel,careerHighlights:r.analysis.careerHighlights,industryExperience:r.analysis.industryExperience,recommendations:r.analysis.recommendations};c(e)}else c(r.analysis)}catch(e){console.error("Error analyzing content:",e),d(e instanceof Error?e.message:"An unknown error occurred")}finally{s(!1)}};return(0,n.useEffect)(()=>{l||o||i||h()},[]),(0,r.jsxs)("div",{className:"analyzer-section-content p-4",children:[o&&(0,r.jsx)("div",{className:"flex justify-start mb-4",children:(0,r.jsxs)("div",{className:"analyzer-button analyzer-button-secondary text-sm flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]})}),i&&(0,r.jsx)("div",{className:"mb-4 p-3 analyzer-section-content text-[var(--state-error)]",children:i}),o&&!l&&(0,r.jsxs)("div",{className:"animate-pulse space-y-4 py-1",children:[(0,r.jsx)("div",{className:"h-4 bg-[var(--bg-tertiary)] rounded w-3/4"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-[var(--bg-tertiary)] rounded"}),(0,r.jsx)("div",{className:"h-4 bg-[var(--bg-tertiary)] rounded w-5/6"})]})]}),l&&(0,r.jsxs)("div",{className:"prose max-w-none max-h-[500px] overflow-y-auto pr-2",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,r.jsxs)("button",{onClick:()=>{let e=new CustomEvent("close-content-analysis",{bubbles:!0});document.dispatchEvent(e)},className:"bg-[#49423D] text-white hover:bg-[#8F7E4F] py-1 px-3 rounded-md transition-all duration-200 flex items-center justify-center shadow-md ml-auto",style:{boxShadow:"0 2px 6px rgba(0,0,0,0.3)"},children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Close"]})}),m&&(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsx)("button",{onClick:()=>h(!0),disabled:o,className:"analyzer-button analyzer-button-secondary text-sm flex items-center px-3 py-1 rounded",children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Refreshing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"-ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Analysis"]})})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"Summary"}),(0,r.jsx)("p",{className:"analyzer-section-content p-3 rounded",children:a(l.summary)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"My Skills"}),(0,r.jsx)("ul",{className:"list-disc pl-5 analyzer-section-content p-3 rounded",children:l.keySkills.map((e,t)=>(0,r.jsx)("li",{children:a(e)},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"Industries I've Worked In"}),(0,r.jsx)("ul",{className:"list-disc pl-5 analyzer-section-content p-3 rounded",children:l.industryExperience.map((e,t)=>(0,r.jsx)("li",{children:a(e)},t))})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"My Career Journey"}),(0,r.jsx)("ul",{className:"list-disc pl-5 analyzer-section-content p-3 rounded",children:l.careerHighlights.map((e,t)=>(0,r.jsx)("li",{children:a(e)},t))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"My Experience"}),(0,r.jsx)("p",{className:"analyzer-section-content p-3 rounded",children:a(l.yearsOfExperience)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"My Education"}),(0,r.jsx)("p",{className:"analyzer-section-content p-3 rounded",children:a(l.educationLevel)})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"analyzer-section-header",children:"What I'm Looking For"}),(0,r.jsx)("ul",{className:"list-disc pl-5 analyzer-section-content p-3 rounded",children:l.recommendations.map((e,t)=>(0,r.jsx)("li",{children:a(e)},t))})]})]})]})}function l(e){let{onClose:t}=e,[o]=(0,n.useState)(null),a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{function e(e){a.current&&!a.current.contains(e.target)&&t&&t()}function o(){t&&t()}return document.addEventListener("mousedown",e),document.addEventListener("close-content-analysis",o),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("close-content-analysis",o)}},[t]),(0,r.jsxs)("div",{ref:a,className:"analyzer-panel relative",children:[(0,r.jsxs)("div",{className:"analyzer-header flex justify-between items-center border-b border-[var(--border-medium)] pb-3",children:[(0,r.jsx)("h2",{className:"text-[1.5rem] font-bold m-0 text-[var(--text-primary)] tracking-tight",children:"Summary Preview"}),t&&(0,r.jsx)("button",{onClick:t,className:"bg-transparent border-none text-[var(--text-primary)] text-[1.5rem] cursor-pointer p-[0.25rem_0.5rem] rounded transition-all duration-200 hover:bg-[rgba(90,118,130,0.1)]","aria-label":"Close",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"analyzer-content",children:[o&&(0,r.jsx)("div",{className:"mb-4 p-3 analyzer-section-content",children:o}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(s,{filePath:"/extracted/resume_content_improved.md"})})]})]})}var c=o(2894);function i(e){let t=parseInt(e=e.replace(/^#/,""),16);return{r:t>>16&255,g:t>>8&255,b:255&t}}function d(e,t,o){return"#"+(0x1000000+(e<<16)+(t<<8)+o).toString(16).slice(1)}function m(e,t,o){let r=[e,t,o].map(e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4));return .2126*r[0]+.7152*r[1]+.0722*r[2]}function u(e,t){let o=i(e),r=i(t),n=m(o.r,o.g,o.b),a=m(r.r,r.g,r.b);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)}function h(e,t){let o=i(e),r=o.r/255,n=o.g/255,a=o.b/255,s=Math.max(r,n,a),l=Math.min(r,n,a),c=0,m=0,u=(s+l)/2;if(s!==l){let e=s-l;switch(m=u>.5?e/(2-s-l):e/(s+l),s){case r:c=(n-a)/e+6*(n<a);break;case n:c=(a-r)/e+2;break;case a:c=(r-n)/e+4}c/=6}u=Math.max(0,Math.min(1,u+t));let h=0,p=0,w=0;if(0===m)h=p=w=u;else{let e=(e,t,o)=>(o<0&&(o+=1),o>1&&(o-=1),o<1/6)?e+(t-e)*6*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e,t=u<.5?u*(1+m):u+m-u*m,o=2*u-t;h=e(o,t,c+1/3),p=e(o,t,c),w=e(o,t,c-1/3)}return d(Math.round(255*h),Math.round(255*p),Math.round(255*w))}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FFFFFF",o=e,r=u(o,t);if(r<4.5){let e=20;for(;r<4.5&&e>0;)r=u(o=h(o,-.05),t),e--;c.x.success.ux("Applied Derrida's diff\xe9rance to CTA color. Contrast ratio: ".concat(r.toFixed(2),":1"))}return o}let w={generateSalingerCtaColors:function(e){let t=p(e),o=p(function(e){let t=i(e),o=t.r/255,r=t.g/255,n=t.b/255,a=Math.max(o,r,n),s=Math.min(o,r,n),l=0,c=0,m=(a+s)/2;if(a!==s){let e=a-s;switch(c=m>.5?e/(2-a-s):e/(a+s),a){case o:l=(r-n)/e+6*(r<n);break;case r:l=(n-o)/e+2;break;case n:l=(o-r)/e+4}l/=6}l=(l+.618033988749895)%1;let u=0,h=0,p=0;if(0===c)u=h=p=m;else{let e=(e,t,o)=>(o<0&&(o+=1),o>1&&(o-=1),o<1/6)?e+(t-e)*6*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e,t=m<.5?m*(1+c):m+c-m*c,o=2*m-t;u=e(o,t,l+1/3),h=e(o,t,l),p=e(o,t,l-1/3)}return d(Math.round(255*u),Math.round(255*h),Math.round(255*p))}(e)),r=p(h(e,.2));return c.x.success.core("Generated Salinger CTA colors using Hesse method from base: ".concat(e)),{primary:{base:t,hover:h(t,.1),active:h(t,-.1),text:"#FFFFFF"},secondary:{base:o,hover:h(o,.1),active:h(o,-.1),text:"#FFFFFF"},tertiary:{base:r,hover:h(r,.1),active:h(r,-.1),text:"#FFFFFF"}}},analyzeColorContrast:function(e){let t=u(e.primary.base,e.primary.text),o=u(e.secondary.base,e.secondary.text),r=u(e.tertiary.base,e.tertiary.text);t>=7?c.x.success.perfection("Primary CTA contrast: ".concat(t.toFixed(2),":1 (AAA)")):t>=4.5?c.x.success.core("Primary CTA contrast: ".concat(t.toFixed(2),":1 (AA)")):c.x.warn.performance("Primary CTA contrast: ".concat(t.toFixed(2),":1 (Below AA)")),o>=7?c.x.success.perfection("Secondary CTA contrast: ".concat(o.toFixed(2),":1 (AAA)")):o>=4.5?c.x.success.core("Secondary CTA contrast: ".concat(o.toFixed(2),":1 (AA)")):c.x.warn.performance("Secondary CTA contrast: ".concat(o.toFixed(2),":1 (Below AA)")),r>=7?c.x.success.perfection("Tertiary CTA contrast: ".concat(r.toFixed(2),":1 (AAA)")):r>=4.5?c.x.success.core("Tertiary CTA contrast: ".concat(r.toFixed(2),":1 (AA)")):c.x.warn.performance("Tertiary CTA contrast: ".concat(r.toFixed(2),":1 (Below AA)"))}},y={primary:"#7E6233",secondary:"#5F6B54",accent:"#7E4E2D",background:"#F5F1E0",text:"#3A4535",border:"#D5CDB5",isDark:!1,isLoading:!1,rawColors:[]};async function g(e){try{c.x.success.basic("Extracting colors from PDF: ".concat(e));let t=w.generateSalingerCtaColors(y.primary);return w.analyzeColorContrast(t),{...y,isLoading:!1,ctaColors:t}}catch(e){return c.x.error.runtime("Failed to extract colors from PDF: ".concat(e)),{...y,isLoading:!1}}}let x=(0,n.createContext)({colorTheme:y,primaryFont:"var(--font-source-sans)",secondaryFont:"var(--font-merriweather)",headingFont:"var(--font-roboto)",isLoading:!1});function f(e){let{children:t,pdfUrl:o}=e,a=function(e){let[t,o]=(0,n.useState)({...y,isLoading:!0});return(0,n.useEffect)(()=>{e&&(async()=>{try{let t=await g(e);o(t)}catch(e){console.error("Error in usePdfTheme:",e),o({...y,isLoading:!1})}})()},[e]),t}(o),{primaryFont:s,secondaryFont:l,headingFont:c,isLoading:i}=function(e){let[t,o]=(0,n.useState)({primaryFont:"var(--font-source-sans)",secondaryFont:"var(--font-merriweather)",headingFont:"var(--font-roboto)",monoFont:"var(--font-geist-mono)",isLoading:!0});return(0,n.useEffect)(()=>{(async()=>{try{var t;await new Promise(e=>setTimeout(e,500));let r=(null==(t=e.split("/").pop())?void 0:t.toLowerCase())||"",n="var(--font-source-sans)",a="var(--font-merriweather)",s="var(--font-roboto)";r.includes("resume")?(n="var(--font-source-sans)",s="var(--font-roboto)"):r.includes("report")||r.includes("paper")?(n="var(--font-merriweather)",a="var(--font-source-sans)"):r.includes("presentation")&&(n="var(--font-inter)",s="var(--font-inter)"),o({primaryFont:n,secondaryFont:a,headingFont:s,monoFont:"var(--font-geist-mono)",isLoading:!1})}catch(e){console.error("Error detecting fonts:",e),o(e=>({...e,isLoading:!1}))}})()},[e]),t}(o),d=a.isLoading||i;return(0,n.useEffect)(()=>{"undefined"!=typeof document&&(document.documentElement.style.setProperty("--dynamic-primary",a.primary),document.documentElement.style.setProperty("--dynamic-secondary",a.secondary),document.documentElement.style.setProperty("--dynamic-accent",a.accent),document.documentElement.style.setProperty("--dynamic-background",a.background),document.documentElement.style.setProperty("--dynamic-text",a.text),document.documentElement.style.setProperty("--dynamic-border",a.border),a.ctaColors&&(document.documentElement.style.setProperty("--cta-primary",a.ctaColors.primary.base),document.documentElement.style.setProperty("--cta-primary-hover",a.ctaColors.primary.hover),document.documentElement.style.setProperty("--cta-primary-active",a.ctaColors.primary.active),document.documentElement.style.setProperty("--cta-primary-bg","color-mix(in srgb, ".concat(a.ctaColors.primary.base," 10%, ").concat(a.background," 90%)")),document.documentElement.style.setProperty("--cta-secondary",a.ctaColors.secondary.base),document.documentElement.style.setProperty("--cta-secondary-hover",a.ctaColors.secondary.hover),document.documentElement.style.setProperty("--cta-secondary-active",a.ctaColors.secondary.active),document.documentElement.style.setProperty("--cta-secondary-bg","color-mix(in srgb, ".concat(a.ctaColors.secondary.base," 10%, ").concat(a.background," 90%)")),document.documentElement.style.setProperty("--cta-tertiary",a.ctaColors.tertiary.base),document.documentElement.style.setProperty("--cta-tertiary-hover",a.ctaColors.tertiary.hover),document.documentElement.style.setProperty("--cta-tertiary-active",a.ctaColors.tertiary.active),document.documentElement.style.setProperty("--cta-tertiary-bg","color-mix(in srgb, ".concat(a.ctaColors.tertiary.base," 10%, ").concat(a.background," 90%)"))),document.documentElement.style.setProperty("--dynamic-primary-font",s),document.documentElement.style.setProperty("--dynamic-secondary-font",l),document.documentElement.style.setProperty("--dynamic-heading-font",c),a.isDark?(document.documentElement.classList.add("pdf-dark-theme"),document.documentElement.classList.remove("pdf-light-theme")):(document.documentElement.classList.add("pdf-light-theme"),document.documentElement.classList.remove("pdf-dark-theme")),d?document.body.classList.remove("theme-loaded"):document.body.classList.add("theme-loaded"))},[a,s,l,c,d]),(0,r.jsx)(x.Provider,{value:{colorTheme:a,primaryFont:s,secondaryFont:l,headingFont:c,isLoading:d},children:(0,r.jsx)("div",{className:"theme-transition-container",children:t})})}var v=o(4691),k=o.n(v),j=o(5976),b=o.n(j),C=o(8420);let _=e=>{let{isOpen:t,onClose:o,content:a,format:s,fileName:l,onDownload:i,onDownloadWithDataUrl:d,position:m="center",pdfSource:u="/pbradygeorgen_resume.pdf",pdfDataUrl:h}=e,p=(0,n.useRef)(null),w=(0,n.useRef)(null),y=(0,n.useRef)(null);return((0,n.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&o()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,o]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,o]),(0,n.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t)?(0,r.jsx)("div",{className:b().modalOverlay,children:(0,r.jsxs)("div",{ref:p,className:"".concat(b().modalContent," ").concat("left"===m?b().modalContentLeft:"right"===m?b().modalContentRight:""),children:[(0,r.jsxs)("div",{className:b().modalHeader,children:[(0,r.jsx)("h2",{className:b().modalTitle,children:"markdown"===s?"Markdown Preview":"pdf"===s?"PDF Preview":"Text Preview"}),(0,r.jsx)("div",{className:b().headerActions,children:(0,r.jsx)("button",{className:b().closeButton,onClick:o,"aria-label":"Close",children:"\xd7"})})]}),(0,r.jsx)("div",{className:b().modalBody,children:"markdown"===s?(0,r.jsx)("div",{ref:w,className:b().markdownPreview,children:(0,r.jsx)(C.oz,{children:a})}):"pdf"===s?(0,r.jsxs)("div",{className:b().pdfPreview,children:[(console.log("Rendering PDF preview with:",{hasPdfDataUrl:!!h,pdfSource:u,format:s,fileName:l}),null),h?(0,r.jsx)("iframe",{src:h,className:b().pdfFrame,title:"PDF Preview (Data URL)"}):(0,r.jsx)("iframe",{src:"".concat(u,"?v=").concat(Date.now(),"#toolbar=0&navpanes=0&scrollbar=0&view=FitH"),className:b().pdfFrame,title:"PDF Preview (File)"})]}):(0,r.jsx)("pre",{ref:y,className:b().textPreview,children:a})}),(0,r.jsxs)("div",{className:b().modalFooter,children:[(0,r.jsxs)("button",{className:b().downloadButton,onClick:async e=>{e.preventDefault(),e.stopPropagation(),console.log("==================== DOWNLOAD BUTTON CLICKED ===================="),console.log("Format:",s),console.log("File Name:",l),console.log("Has PDF Data URL:",!!h),console.log("Has Data URL Handler:",!!d),console.log("Has Download Handler:",!!i),console.log("PDF Source:",u),console.log("Component Props:",{format:s,fileName:l,pdfDataUrl:h?"exists":"none",onDownloadWithDataUrl:!!d,onDownload:!!i});try{c.x.success.basic("Starting download of ".concat(l,".").concat("markdown"===s?"md":"pdf"===s?"pdf":"txt"));let e=!1;if("pdf"===s&&h){console.log("DOWNLOAD STRATEGY: Using direct data URL download");try{let t=document.createElement("a");t.href=h,t.download="".concat(l,".pdf"),document.body.appendChild(t),console.log("Triggering direct download from data URL"),t.click(),document.body.removeChild(t),e=!0,console.log("Direct download from data URL completed")}catch(t){if(console.error("Direct download failed:",t),d){console.log("Falling back to data URL handler");try{await d(h),e=!0,console.log("Data URL handler download completed")}catch(e){throw console.error("Handler download failed:",e),e}}}}else if("pdf"===s&&!h&&u){console.log("DOWNLOAD STRATEGY: Using source file download");try{let t=document.createElement("a");t.href=u,t.download="".concat(l,".pdf"),document.body.appendChild(t),console.log("Triggering direct download from source"),t.click(),document.body.removeChild(t),e=!0,console.log("Direct download from source completed")}catch(t){console.error("Direct source download failed:",t),console.log("Falling back to default handler");try{await i(),e=!0,console.log("Default handler download completed")}catch(e){throw console.error("Handler download failed:",e),e}}}else{console.log("DOWNLOAD STRATEGY: Using format-specific handler");try{console.log("Calling handler for ".concat(s," format")),await i(),e=!0,console.log("Format handler download completed")}catch(e){throw console.error("".concat(s," handler download failed:"),e),e}}if(e)console.log("Download successfully initiated"),c.x.success.ux("Downloaded ".concat(l,".").concat("markdown"===s?"md":"pdf"===s?"pdf":"txt")),console.log("Setting timeout to close modal"),setTimeout(()=>{console.log("Closing modal after download"),o()},2e3);else throw console.error("No download method succeeded"),Error("No download method succeeded")}catch(e){console.error("Error during download process:",e),c.x.error.runtime("Download failed: ".concat(e)),alert("There was an error downloading the file. Please try again.")}},children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:b().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download ","markdown"===s?"Markdown":"pdf"===s?"PDF":"Text"," File"]}),(0,r.jsx)("button",{className:b().cancelButton,onClick:o,children:"Close"})]})]})}):null};var P=o(6652),L=o.n(P);let D={summary:{start:e=>{console.log("\uD83D\uDCDD\uD83D\uDD0D [Hesse:Summary:Start] ".concat(e)),c.x.success.basic("Summary generation started: ".concat(e))},progress:e=>{console.log("\uD83D\uDCDD⏳ [Hesse:Summary:Progress] ".concat(e))},complete:e=>{console.log("\uD83D\uDCDD✅ [Hesse:Summary:Complete] ".concat(e)),c.x.success.core("Summary generation completed: ".concat(e))},error:e=>{console.error("\uD83D\uDCDD❌ [Hesse:Summary:Error] ".concat(e)),c.x.error.runtime("Summary generation failed: ".concat(e))}}};var E=o(6597),S=o(2699),N=o.n(S);let F={title:"Generated PDF",author:"P. Brady Georgen",subject:"Resume Summary",keywords:"resume, summary, pdf",pageSize:"a4",orientation:"portrait",margins:{top:15,right:15,bottom:15,left:15},headerText:"P. Brady Georgen",footerText:"Generated with Salinger Design",fileName:"summary.pdf"};function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],r=e.split("\n"),n=!t,a=e=>e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/!\[(.*?)\]\(.*?\)/g,"$1");for(let e=0;e<r.length;e++){let t=r[e].trim();if(t)if(t.startsWith("# ")){if(!n){n=!0;continue}o.push({type:"heading1",content:a(t.substring(2).trim())})}else if(t.startsWith("## "))o.push({type:"heading2",content:a(t.substring(3).trim())});else if(t.startsWith("### "))o.push({type:"heading3",content:a(t.substring(4).trim())});else if(t.startsWith("- ")||t.startsWith("* "))o.push({type:"listItem",content:a(t.substring(2).trim())});else if(/^\d+\.\s/.test(t))o.push({type:"listItem",content:a(t.replace(/^\d+\.\s/,"").trim())});else{let n=a(t),s=o[o.length-1];s&&"paragraph"===s.type&&!r[e-1].trim().endsWith("  ")?s.content+=" "+n:o.push({type:"paragraph",content:n})}}return o}let M={generatePdfDataUrlFromMarkdown:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var o,r;c.x.success.basic("Generating PDF data URL from markdown content");let n=(null==(o=t.fileName)?void 0:o.includes("cover_letter"))||(null==(r=t.fileName)?void 0:r.includes("summary"))||!0===t.isDarkTheme||!1,a=new E.uE({orientation:"portrait",unit:"in",format:"letter"});a.setProperties({title:t.title||"Generated PDF",author:t.author||"P. Brady Georgen",subject:t.subject||"Resume Summary",keywords:t.keywords||"resume, summary, pdf"}),n&&(a.setFillColor(34,34,34),a.rect(0,0,8.5,11,"F")),t.headerText&&(n?a.setTextColor(245,243,231):a.setTextColor(73,66,61),a.setFont("courier","bold"),a.setFontSize(22),a.text(t.headerText,4.25,.8,{align:"center"}),n?a.setDrawColor(255,255,255,.3):a.setDrawColor(213,205,181,.8),a.setLineWidth(.01),a.line(1,.95,7.5,.95));let s=T(e,!!t.headerText);n?a.setTextColor(245,243,231):a.setTextColor(58,69,53),a.setFont("times","normal"),a.setFontSize(12);let l=t.headerText?1.1:.5;s.forEach((e,t)=>{switch(l>10.2&&(a.addPage(),l=.5,n&&(a.setFillColor(34,34,34),a.rect(0,0,8.5,11,"F"))),"heading2"===e.type&&t>0&&(l+=.15,n?a.setDrawColor(255,255,255,.15):a.setDrawColor(213,205,181,.5),a.setLineWidth(.005),a.line(1.2,l-.1,7,l-.1),l+=.1),e.type){case"heading1":n?a.setTextColor(245,243,231):a.setTextColor(73,66,61),a.setFont("courier","bold"),a.setFontSize(18),a.text(e.content,.7,l),l+=.4;break;case"heading2":n?a.setTextColor(245,243,231):a.setTextColor(73,66,61),a.setFont("courier","bold"),a.setFontSize(15),a.text(e.content,.7,l),l+=.2,n?a.setDrawColor(255,255,255,.25):a.setDrawColor(213,205,181,.8),a.setLineWidth(.01),a.line(.7,l-.08,7.5,l-.08);break;case"heading3":n?a.setTextColor(245,243,231):a.setTextColor(73,66,61),a.setFont("courier","bold"),a.setFontSize(14),a.text(e.content,.7,l),l+=.3;break;case"paragraph":n?a.setTextColor(245,243,231):a.setTextColor(58,69,53),a.setFont("times","normal"),a.setFontSize(12);let o=a.splitTextToSize(e.content,7.1);a.text(o,.7,l),l+=.18*o.length+.05;break;case"listItem":n?a.setTextColor(245,243,231):a.setTextColor(58,69,53),a.setFont("times","normal"),a.setFontSize(12),a.text("•",.7,l);let r=a.splitTextToSize(e.content,6.85);a.text(r,.95,l),l+=.18*r.length+.02}}),t.footerText&&(n?a.setDrawColor(255,255,255,.3):a.setDrawColor(213,205,181,.8),a.setLineWidth(.01),a.line(1,10.3,7.5,10.3),n?a.setTextColor(245,243,231,.7):a.setTextColor(73,66,61,.7),a.setFont("courier","normal"),a.setFontSize(9),a.text(t.footerText,4.25,10.6,{align:"center"}));let i=a.output("datauristring");return c.x.success.ux("Generated PDF data URL"),i}catch(e){return c.x.error.runtime("Error generating PDF data URL: ".concat(e)),Promise.reject(e)}}},U=e=>{let{isOpen:t,onClose:o,content:a,position:s="left",isLoading:l=!1,onPdfPreview:i,onPdfDownload:d,onMarkdownPreview:m,onMarkdownDownload:u,onTextPreview:h,onTextDownload:p}=e,w=(0,n.useRef)(null),y=(0,n.useRef)(null),[g,x]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),[k,j]=(0,n.useState)(!1),[b,P]=(0,n.useState)(null),[E,S]=(0,n.useState)(""),[N,F]=(0,n.useState)(null),T="pdf"===b,U="markdown"===b,B="text"===b,[R,O]=(0,n.useState)(!1),z=async()=>new Promise(async(e,t)=>{try{if(x(!0),D.summary.start("Exporting summary as PDF with dark theme"),N){c.x.success.basic("Using cached PDF data URL for download");let e=document.createElement("a");e.href=N,e.download="pbradygeorgen_cover_letter.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e)}else{c.x.success.basic("Generating new PDF data URL for download");let e=await M.generatePdfDataUrlFromMarkdown(a,{title:"P. Brady Georgen - Cover Letter",fileName:"pbradygeorgen_cover_letter.pdf",headerText:"P. Brady Georgen - Cover Letter",footerText:"Generated with Salinger Design",pageSize:"letter",margins:{top:8,right:8,bottom:8,left:8}}),t=document.createElement("a");t.href=e,t.download="pbradygeorgen_cover_letter.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)}c.x.success.ux("Exported cover letter as PDF using Salinger dark theme"),D.summary.complete("Cover letter exported as PDF with dark theme styling"),e()}catch(e){c.x.error.runtime("Error exporting to PDF: ".concat(e)),D.summary.error("PDF export failed: ".concat(e)),alert("There was an error generating the PDF. Please try again."),t(e)}finally{x(!1)}}),I=async()=>{try{D.summary.start("Generating PDF preview with dark theme"),console.log("Starting PDF preview generation for Cover Letter");let e=await M.generatePdfDataUrlFromMarkdown(a,{title:"P. Brady Georgen - Cover Letter",fileName:"pbradygeorgen_cover_letter.pdf",headerText:"P. Brady Georgen - Cover Letter",footerText:"Generated with Salinger Design",pageSize:"letter",margins:{top:8,right:8,bottom:8,left:8}});console.log("PDF data URL generated:",e?"".concat(e.substring(0,50),"..."):"null"),F(e),console.log("PDF data URL stored in state"),P("pdf"),console.log("Active preview set to PDF"),c.x.success.ux("Opened PDF preview with Salinger dark theme"),D.summary.complete("PDF preview generated with dark theme styling")}catch(e){console.error("Error in PDF preview generation:",e),c.x.error.runtime("Error showing PDF preview: ".concat(e)),D.summary.error("PDF preview failed: ".concat(e)),alert("There was an error generating the PDF preview. Please try again.")}},A=async()=>new Promise(async(e,t)=>{try{v(!0),D.summary.start("Exporting summary as Markdown");let t=new Blob([a],{type:"text/markdown"}),o=URL.createObjectURL(t),r=document.createElement("a");r.href=o,r.download="pbradygeorgen_cover_letter.md",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o),c.x.success.ux("Exported summary as Markdown"),D.summary.complete("Summary exported as Markdown"),e()}catch(e){c.x.error.runtime("Error exporting to Markdown: ".concat(e)),D.summary.error("Error exporting to Markdown: ".concat(e)),alert("There was an error generating the Markdown file. Please try again."),t(e)}finally{v(!1)}}),H=async()=>{try{D.summary.start("Opening Markdown preview"),S(a),P("markdown"),c.x.success.ux("Opened Markdown preview with Salinger design")}catch(e){c.x.error.runtime("Error showing Markdown preview: ".concat(e)),D.summary.error("Markdown preview failed: ".concat(e)),alert("There was an error generating the Markdown preview. Please try again.")}},W=async()=>new Promise(async(e,t)=>{try{j(!0),D.summary.start("Exporting summary as Text");let t=a.replace(/#{1,6}\s+/g,"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/!\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/`{1,3}[^`]*`{1,3}/g,"").replace(/>/g,"").replace(/\n\s*\n/g,"\n\n"),o=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(o),n=document.createElement("a");n.href=r,n.download="pbradygeorgen_cover_letter.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),c.x.success.ux("Exported summary as Text"),D.summary.complete("Summary exported as Text"),e()}catch(e){c.x.error.runtime("Error exporting to Text: ".concat(e)),D.summary.error("Error exporting to Text: ".concat(e)),alert("There was an error generating the Text file. Please try again."),t(e)}finally{j(!1)}}),G=async()=>{try{D.summary.start("Opening Text preview");let e=a.replace(/#{1,6}\s+/g,"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/!\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/`{1,3}[^`]*`{1,3}/g,"").replace(/>/g,"").replace(/\n\s*\n/g,"\n\n");S(e),P("text"),c.x.success.ux("Opened Text preview with Salinger design")}catch(e){c.x.error.runtime("Error showing Text preview: ".concat(e)),D.summary.error("Text preview failed: ".concat(e)),alert("There was an error generating the Text preview. Please try again.")}};return((0,n.useEffect)(()=>{let e=e=>{if(w.current&&!w.current.contains(e.target)&&o(),R){let t=document.querySelector(".".concat(L().downloadContainer));t&&!t.contains(e.target)&&O(!1)}};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,o,R]),(0,n.useEffect)(()=>{t||(P(null),F(null),console.log("Modal closed, reset preview states"))},[t]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,o]),(0,n.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t)?(0,r.jsxs)("div",{className:L().modalOverlay,children:[(0,r.jsxs)("div",{ref:w,className:"".concat(L().modalContent," ").concat("left"===s?L().modalContentLeft:"right"===s?L().modalContentRight:""),children:[(0,r.jsxs)("div",{className:L().modalHeader,children:[(0,r.jsx)("h2",{className:L().modalTitle,children:"Cover Letter"}),(0,r.jsxs)("div",{className:L().headerActions,children:[(0,r.jsxs)("div",{className:L().downloadContainer,children:[(0,r.jsxs)("a",{href:"#",className:L().actionLink,onClick:e=>e.preventDefault(),"aria-label":"Download Summary","aria-haspopup":"true",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().actionIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Cover Letter"]}),(0,r.jsxs)("div",{className:L().downloadMenu,children:[(0,r.jsxs)("div",{className:L().downloadOptionGroup,children:[(0,r.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),i?i():I()},className:L().previewButton,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().previewIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview"]}),(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),d?d():z()},className:L().downloadOption,children:g?(0,r.jsxs)("span",{className:L().loadingText,children:[(0,r.jsxs)("svg",{className:"".concat(L().loadingSpinner," h-4 w-4 mr-2"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Downloading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"PDF Format"]})})]}),(0,r.jsxs)("div",{className:L().downloadOptionGroup,children:[(0,r.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),m?m():H()},className:L().previewButton,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().previewIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview"]}),(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),u?u():A()},className:L().downloadOption,children:f?(0,r.jsxs)("span",{className:L().loadingText,children:[(0,r.jsxs)("svg",{className:"".concat(L().loadingSpinner," h-4 w-4 mr-2"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Downloading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Markdown Format"]})})]}),(0,r.jsxs)("div",{className:L().downloadOptionGroup,children:[(0,r.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),h?h():G()},className:L().previewButton,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().previewIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview"]}),(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),p?p():W()},className:L().downloadOption,children:k?(0,r.jsxs)("span",{className:L().loadingText,children:[(0,r.jsxs)("svg",{className:"".concat(L().loadingSpinner," h-4 w-4 mr-2"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Downloading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:L().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Text Format"]})})]})]})]}),(0,r.jsx)("button",{className:L().closeButton,onClick:o,"aria-label":"Close",children:"\xd7"})]})]}),(0,r.jsx)("div",{className:L().modalBody,children:l?(0,r.jsxs)("div",{className:L().loadingContainer,children:[(0,r.jsx)("div",{className:L().loadingSpinner,children:(0,r.jsxs)("svg",{className:"animate-spin h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,r.jsx)("div",{className:L().loadingText,children:"Generating summary..."})]}):(0,r.jsx)("div",{ref:y,className:L().markdownPreview,children:(0,r.jsx)(C.oz,{children:a})})})]}),T&&(0,r.jsx)(_,{isOpen:T,onClose:()=>{console.log("Closing PDF preview, resetting active preview"),P(null)},content:"",format:"pdf",fileName:"pbradygeorgen_cover_letter",onDownload:async()=>{console.log("PDF download triggered from preview modal");try{if(!N)return await z();{console.log("Using cached PDF data URL for direct download");let e=document.createElement("a");return e.href=N,e.download="pbradygeorgen_cover_letter.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e),Promise.resolve()}}catch(e){return console.error("Error in PDF download from preview:",e),Promise.reject(e)}},onDownloadWithDataUrl:async e=>{console.log("PDF data URL download triggered from preview modal");try{let t=document.createElement("a");return t.href=e,t.download="pbradygeorgen_cover_letter.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t),Promise.resolve()}catch(e){return console.error("Error in PDF data URL download:",e),Promise.reject(e)}},position:"right",pdfDataUrl:N||void 0}),U&&(0,r.jsx)(_,{isOpen:U,onClose:()=>P(null),content:a,format:"markdown",fileName:"pbradygeorgen_cover_letter",onDownload:async()=>{console.log("Markdown download triggered from preview modal");try{let e=new Blob([a],{type:"text/markdown"}),t=URL.createObjectURL(e),o=document.createElement("a");return o.href=t,o.download="pbradygeorgen_cover_letter.md",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t),Promise.resolve()}catch(e){return console.error("Error in Markdown download from preview:",e),A()}},position:"right"}),B&&(0,r.jsx)(_,{isOpen:B,onClose:()=>P(null),content:E,format:"text",fileName:"pbradygeorgen_cover_letter",onDownload:async()=>{console.log("Text download triggered from preview modal");try{let e=new Blob([E],{type:"text/plain"}),t=URL.createObjectURL(e),o=document.createElement("a");return o.href=t,o.download="pbradygeorgen_cover_letter.txt",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t),Promise.resolve()}catch(e){return console.error("Error in Text download from preview:",e),W()}},position:"right"})]}):null},B={downloadPdf:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(async(r,n)=>{try{if(D.summary.start("Exporting ".concat(t," as PDF")),c.x.success.basic("Starting PDF download for ".concat(t)),o.dataUrl){c.x.success.basic("Using provided PDF data URL for download");let e=document.createElement("a");e.href=o.dataUrl,e.download="".concat(t,".pdf"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}else{c.x.success.basic("Generating new PDF for download");let r={title:t,fileName:"".concat(t,".pdf"),headerText:t,footerText:"Generated with Salinger Design",pageSize:"letter",margins:{top:8,right:8,bottom:8,left:8},...o},n=await M.generatePdfDataUrlFromMarkdown(e,r),a=document.createElement("a");a.href=n,a.download="".concat(t,".pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}c.x.success.ux("Downloaded ".concat(t,".pdf successfully")),D.summary.complete("".concat(t,".pdf downloaded successfully")),r()}catch(e){c.x.error.runtime("Error downloading PDF: ".concat(e)),D.summary.error("PDF download failed: ".concat(e)),n(e)}})},downloadMarkdown:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document";return new Promise((o,r)=>{try{D.summary.start("Exporting ".concat(t," as Markdown")),c.x.success.basic("Starting Markdown download for ".concat(t));let r=new Blob([e],{type:"text/markdown"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(t,".md"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),c.x.success.ux("Downloaded ".concat(t,".md successfully")),D.summary.complete("".concat(t,".md downloaded successfully")),o()}catch(e){c.x.error.runtime("Error downloading Markdown: ".concat(e)),D.summary.error("Markdown download failed: ".concat(e)),r(e)}})},downloadText:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document";return new Promise((o,r)=>{try{D.summary.start("Exporting ".concat(t," as Text")),c.x.success.basic("Starting Text download for ".concat(t));let r=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download="".concat(t,".txt"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),c.x.success.ux("Downloaded ".concat(t,".txt successfully")),D.summary.complete("".concat(t,".txt downloaded successfully")),o()}catch(e){c.x.error.runtime("Error downloading Text: ".concat(e)),D.summary.error("Text download failed: ".concat(e)),r(e)}})},convertMarkdownToText:e=>e.replace(/#{1,6}\s+/g,"").replace(/\*\*/g,"").replace(/\*/g,"").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/!\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/`{1,3}[^`]*`{1,3}/g,"").replace(/>/g,"").replace(/\n\s*\n/g,"\n\n"),generatePdfDataUrl:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{D.summary.start("Generating PDF data URL"),c.x.success.basic("Starting PDF data URL generation");let o={title:"Document",fileName:"document.pdf",headerText:"Document",footerText:"Generated with Salinger Design",pageSize:"letter",margins:{top:8,right:8,bottom:8,left:8},...t},r=await M.generatePdfDataUrlFromMarkdown(e,o);return c.x.success.ux("Generated PDF data URL successfully"),D.summary.complete("PDF data URL generated successfully"),r}catch(e){throw c.x.error.runtime("Error generating PDF data URL: ".concat(e)),D.summary.error("PDF data URL generation failed: ".concat(e)),e}}},R=e=>{let{onDownload:t,onViewSummary:o,onContact:a,onUpload:s,onRefresh:l,fileName:i="resume"}=e,[d,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[p,w]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),[b,C]=(0,n.useState)(!1),[P,L]=(0,n.useState)(!1),[E,S]=(0,n.useState)(!1),[N,F]=(0,n.useState)(!1),[T,M]=(0,n.useState)(""),[R,O]=(0,n.useState)(""),[z,I]=(0,n.useState)(null),[A,H]=(0,n.useState)(""),[W,G]=(0,n.useState)(!1),[V,J]=(0,n.useState)(!1),[Y,$]=(0,n.useState)(!1),[q,K]=(0,n.useState)(!1),[X,Q]=(0,n.useState)(!1),Z=(0,n.useRef)(null),ee=(e,r)=>{switch(r.preventDefault(),e){case"download":t&&t();break;case"summary":J(!0),fetch("/api/get-summary").then(e=>{if(!e.ok)throw console.error("API responded with status: ".concat(e.status)),Error("API responded with status: ".concat(e.status));return e.json()}).then(e=>{if(e.success)console.log("Summary loaded successfully"),O(e.summary),C(!0);else throw console.error("API returned error:",e.error),Error(e.error||"Failed to load summary")}).catch(e=>{console.error("Error loading summary:",e),console.log("Attempting to use analyze-content API as fallback..."),fetch("/api/analyze-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:"/extracted/resume_content.md"})}).then(e=>{if(!e.ok)throw Error("Fallback API responded with status: ".concat(e.status));return e.json()}).then(e=>{if(e.success&&e.analysis){console.log("Successfully loaded summary from fallback API");let t=e.analysis;O("# P. Brady Georgen - Summary\n\n## Professional Summary\n\n".concat(t.summary,"\n\n## Key Skills\n\n").concat(t.keySkills.map(e=>"- ".concat(e)).join("\n"),"\n\n## Experience\n\n").concat(t.yearsOfExperience,"\n\n## Education\n\n").concat(t.educationLevel,"\n\n## Career Highlights\n\n").concat(t.careerHighlights.map(e=>"- ".concat(e)).join("\n"),"\n\n## Industry Experience\n\n").concat(t.industryExperience.map(e=>"- ".concat(e)).join("\n"),"\n\n## Recommendations\n\n").concat(t.recommendations.map(e=>"- ".concat(e)).join("\n"),"\n")),C(!0)}else throw Error(e.error||"Failed to load summary from fallback API")}).catch(e=>{if(console.error("Error with fallback API:",e),o)o();else{let e=document.querySelector("#summary-section");e&&e.scrollIntoView({behavior:"smooth"})}})}).finally(()=>{J(!1)});break;case"contact":if(a)a(),setTimeout(()=>{Z.current&&Z.current.blur()},100);else{let e=document.querySelector("#contact-section");e&&e.scrollIntoView({behavior:"smooth"})}break;case"upload":s&&s();break;case"refresh":l&&l()}},et=()=>{let e=document.createElement("a");e.href="/pbradygeorgen_resume.pdf?v=".concat(Date.now()),e.download="".concat(i,".pdf"),document.body.appendChild(e),e.click(),document.body.removeChild(e),c.x.success.ux("Downloaded ".concat(i,".pdf"))},eo=async()=>{try{if($(!0),D.summary.start("Generating Cover Letter PDF preview"),R){let e=await B.generatePdfDataUrl(R,{title:"P. Brady Georgen - Cover Letter",fileName:"pbradygeorgen_cover_letter.pdf",headerText:"P. Brady Georgen - Cover Letter",footerText:"Generated with Salinger Design",pageSize:"letter",margins:{top:8,right:8,bottom:8,left:8}});I(e),L(!0),c.x.success.ux("Opened Cover Letter PDF preview")}else alert("Please open the Cover Letter first to generate content."),C(!0)}catch(e){console.error("Error generating Cover Letter PDF preview:",e),c.x.error.runtime("Error showing Cover Letter PDF preview: ".concat(e)),alert("There was an error generating the PDF preview. Please try again.")}finally{$(!1)}},er=async()=>{try{if($(!0),z)await B.downloadPdf("","pbradygeorgen_cover_letter",{dataUrl:z});else if(R){let e=await B.generatePdfDataUrl(R,{title:"P. Brady Georgen - Cover Letter",fileName:"pbradygeorgen_cover_letter.pdf",headerText:"P. Brady Georgen - Cover Letter",footerText:"Generated with Salinger Design",pageSize:"letter",margins:{top:8,right:8,bottom:8,left:8}});await B.downloadPdf("","pbradygeorgen_cover_letter",{dataUrl:e})}else{alert("Please open the Cover Letter first to generate content."),C(!0);return}c.x.success.ux("Downloaded Cover Letter PDF")}catch(e){console.error("Error downloading Cover Letter PDF:",e),c.x.error.runtime("Error downloading Cover Letter PDF: ".concat(e)),alert("There was an error downloading the PDF. Please try again.")}finally{$(!1)}},en=async()=>{try{K(!0),R?(await B.downloadMarkdown(R,"pbradygeorgen_cover_letter"),c.x.success.ux("Downloaded Cover Letter Markdown")):(alert("Please open the Cover Letter first to generate content."),C(!0))}catch(e){console.error("Error downloading Cover Letter Markdown:",e),c.x.error.runtime("Error downloading Cover Letter Markdown: ".concat(e)),alert("There was an error downloading the file. Please try again.")}finally{K(!1)}},ea=async()=>{try{if(Q(!0),R){let e=B.convertMarkdownToText(R);await B.downloadText(e,"pbradygeorgen_cover_letter"),c.x.success.ux("Downloaded Cover Letter Text")}else alert("Please open the Cover Letter first to generate content."),C(!0)}catch(e){console.error("Error downloading Cover Letter Text:",e),c.x.error.runtime("Error downloading Cover Letter Text: ".concat(e)),alert("There was an error downloading the file. Please try again.")}finally{Q(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:k().salingerHeader,children:[(0,r.jsxs)("div",{className:k().headerLeft,children:[(0,r.jsx)("h1",{className:k().siteTitle,children:"P. Brady Georgen"}),(0,r.jsx)("a",{href:"#",className:k().summaryLink,onClick:e=>ee("summary",e),"aria-label":"View Summary",children:V?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"".concat(k().loadingSpinner," ").concat(k().actionIcon),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().actionIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,r.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,r.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,r.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,r.jsx)("polyline",{points:"10 9 9 9 8 9"})]}),"Cover Letter"]})})]}),(0,r.jsxs)("nav",{className:k().headerActions,children:[(0,r.jsxs)("div",{className:k().downloadContainer,children:[(0,r.jsxs)("a",{href:"#",className:k().actionLink,onClick:e=>e.preventDefault(),"aria-label":"Download Resume","aria-haspopup":"true",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().actionIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download Resume"]}),(0,r.jsxs)("div",{className:k().downloadMenu,children:[(0,r.jsxs)("div",{className:k().downloadOptionGroup,children:[(0,r.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),j(!0)},className:k().previewButton,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().previewIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview"]}),(0,r.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),w(!0);try{et()}catch(e){console.error("Error downloading PDF:",e),alert("Failed to download PDF. Please try again.")}finally{w(!1)}},className:k().downloadOption,children:p?(0,r.jsxs)("span",{className:k().loadingText,children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Downloading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"PDF Format"]})})]}),(0,r.jsxs)("div",{className:k().downloadOptionGroup,children:[(0,r.jsxs)("a",{href:"#",onClick:async e=>{e.preventDefault(),G(!0),g(!1);try{let e=await fetch("/api/format-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:"/extracted/resume_content.md",format:"markdown"})});if(!e.ok)throw Error("API responded with status: ".concat(e.status));let t=await e.json();if(!t.success)throw Error(t.error||"Unknown error");M(t.formattedContent),g(!0)}catch(e){console.error("Error generating markdown preview:",e),alert("Failed to generate markdown preview. Please try again.")}finally{G(!1)}},className:k().previewButton,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().previewIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview"]}),(0,r.jsx)("a",{href:"#",onClick:async e=>{e.preventDefault(),m(!0);try{let e=await fetch("/api/format-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:"/extracted/resume_content.md",format:"markdown"})});if(!e.ok)throw Error("API responded with status: ".concat(e.status));let t=await e.json();if(!t.success)throw Error(t.error||"Unknown error");console.log("Content type detected: ".concat(t.contentType));let o=new Blob([t.formattedContent],{type:"text/markdown"}),r=URL.createObjectURL(o),n=document.createElement("a");n.href=r,n.download="".concat(i,".md"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}catch(e){console.error("Error generating markdown:",e),alert("Failed to generate markdown. Please try again.")}finally{m(!1)}},className:k().downloadOption,children:d?(0,r.jsxs)("span",{className:k().loadingText,children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Markdown Format"]})})]}),(0,r.jsxs)("div",{className:k().downloadOptionGroup,children:[(0,r.jsxs)("a",{href:"#",onClick:async e=>{e.preventDefault(),G(!0),f(!1);try{let e=await fetch("/api/format-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:"/extracted/resume_content.md",format:"text"})});if(!e.ok)throw Error("API responded with status: ".concat(e.status));let t=await e.json();if(!t.success)throw Error(t.error||"Unknown error");M(t.formattedContent),f(!0)}catch(e){console.error("Error generating text preview:",e),alert("Failed to generate text preview. Please try again.")}finally{G(!1)}},className:k().previewButton,children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().previewIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview"]}),(0,r.jsx)("a",{href:"#",onClick:async e=>{e.preventDefault(),h(!0);try{let e=await fetch("/api/format-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:"/extracted/resume_content.md",format:"text"})});if(!e.ok)throw Error("API responded with status: ".concat(e.status));let t=await e.json();if(!t.success)throw Error(t.error||"Unknown error");console.log("Content type detected: ".concat(t.contentType));let o=new Blob([t.formattedContent],{type:"text/plain"}),r=URL.createObjectURL(o),n=document.createElement("a");n.href=r,n.download="".concat(i,".txt"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}catch(e){console.error("Error generating text format:",e),alert("Failed to generate text format. Please try again.")}finally{h(!1)}},className:k().downloadOption,children:u?(0,r.jsxs)("span",{className:k().loadingText,children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().downloadIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Text Format"]})})]})]})]}),(0,r.jsx)("span",{className:k().actionSeparator,children:"•"}),(0,r.jsxs)("a",{ref:Z,href:"#",className:k().actionLink,onClick:e=>ee("contact",e),"aria-label":"Contact",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:k().actionIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,r.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),"Contact"]})]})]}),(0,r.jsx)(_,{isOpen:y,onClose:()=>g(!1),content:T,format:"markdown",fileName:i,onDownload:()=>{let e=new Blob([T],{type:"text/markdown"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="".concat(i,".md"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)},position:"right"}),(0,r.jsx)(_,{isOpen:x,onClose:()=>f(!1),content:T,format:"text",fileName:i,onDownload:()=>{let e=new Blob([T],{type:"text/plain"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="".concat(i,".txt"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)},position:"right"}),(0,r.jsx)(_,{isOpen:v,onClose:()=>j(!1),content:"",format:"pdf",fileName:i,onDownload:et,position:"right",pdfSource:"/pbradygeorgen_resume.pdf"}),(0,r.jsx)(U,{isOpen:b,onClose:()=>C(!1),content:R,isLoading:V,position:"left",onPdfPreview:eo,onPdfDownload:er,onMarkdownPreview:()=>{try{K(!0),R?(H(R),S(!0),c.x.success.ux("Opened Cover Letter Markdown preview")):(alert("Please open the Cover Letter first to generate content."),C(!0))}catch(e){console.error("Error showing Cover Letter Markdown preview:",e),c.x.error.runtime("Error showing Cover Letter Markdown preview: ".concat(e)),alert("There was an error generating the preview. Please try again.")}finally{K(!1)}},onMarkdownDownload:en,onTextPreview:()=>{try{if(Q(!0),R){let e=B.convertMarkdownToText(R);H(e),F(!0),c.x.success.ux("Opened Cover Letter Text preview")}else alert("Please open the Cover Letter first to generate content."),C(!0)}catch(e){console.error("Error showing Cover Letter Text preview:",e),c.x.error.runtime("Error showing Cover Letter Text preview: ".concat(e)),alert("There was an error generating the preview. Please try again.")}finally{Q(!1)}},onTextDownload:ea}),(0,r.jsx)(_,{isOpen:P,onClose:()=>L(!1),content:"",format:"pdf",fileName:"pbradygeorgen_cover_letter",onDownload:er,onDownloadWithDataUrl:e=>B.downloadPdf("","pbradygeorgen_cover_letter",{dataUrl:e}),position:"right",pdfDataUrl:z||void 0}),(0,r.jsx)(_,{isOpen:E,onClose:()=>S(!1),content:A,format:"markdown",fileName:"pbradygeorgen_cover_letter",onDownload:en,position:"right"}),(0,r.jsx)(_,{isOpen:N,onClose:()=>F(!1),content:A,format:"text",fileName:"pbradygeorgen_cover_letter",onDownload:ea,position:"right"})]})};function O(e){let{isOpen:t,onClose:o,onPdfUploaded:r}=e,[a,s]=(0,n.useState)(!1),l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{function e(e){l.current&&!l.current.contains(e.target)&&o()}return t&&(document.addEventListener("mousedown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",e),document.body.style.overflow="auto"}},[t,o]),(0,n.useEffect)(()=>{function e(e){"Escape"===e.key&&o()}return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,o]),null}function z(e){let{pdfUrl:t,pdfName:o}=e,[a,s]=(0,n.useState)(!1),[i,d]=(0,n.useState)(null),m=(0,n.useRef)(null),[u,h]=(0,n.useState)(!1),[p,w]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1),[k,j]=(0,n.useState)(!1),b=o.replace(/\.[^/.]+$/,""),C=()=>{let e=window.innerWidth,t=Math.min(Math.max(70,90-e/100),90),o=e*t/100;return o<320&&e>320?"".concat(320,"px"):o>1e3?"".concat(1e3,"px"):e<=320?"100%":"".concat(t,"%")},[_,P]=(0,n.useState)("80%"),L=()=>window.innerWidth<=768?window.innerWidth<480?"6.5rem":"5.25rem":"5rem",[D,E]=(0,n.useState)("5rem"),S="#d4d1be";return(0,n.useEffect)(()=>{let e=()=>{P(C()),E(L())};return P(C()),E(L()),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,n.useEffect)(()=>{let e=()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},t=()=>window.innerHeight>window.innerWidth,o=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),r=()=>{if(document.body.style.backgroundColor=S,document.documentElement.style.backgroundColor=S,document.querySelectorAll(".pdf-container, .pdf-iframe, iframe").forEach(e=>{e instanceof HTMLElement&&(e.style.backgroundColor=S)}),document.getElementById("full-height-background")){let e=document.getElementById("full-height-background");e&&(e.style.backgroundColor=S)}else{let e=document.createElement("div");e.id="full-height-background",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor=S,e.style.zIndex="-1",document.body.appendChild(e)}if(o()&&t()){if(!document.getElementById("portrait-mode-extension")){let e=document.createElement("div");e.id="portrait-mode-extension",e.style.position="fixed",e.style.bottom="0",e.style.left="0",e.style.width="100%",e.style.height="100vh",e.style.backgroundColor=S,e.style.zIndex="-2",document.body.appendChild(e)}}else{let e=document.getElementById("portrait-mode-extension");e&&document.body.removeChild(e)}};e(),r();let n=()=>{setTimeout(()=>{e(),r(),setTimeout(()=>{r(),window.scrollTo(0,1),setTimeout(()=>window.scrollTo(0,0),10)},300)},100)};return window.addEventListener("resize",e),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",n);let t=document.getElementById("full-height-background");t&&document.body.removeChild(t);let o=document.getElementById("portrait-mode-extension");o&&document.body.removeChild(o),document.body.style.backgroundColor="",document.documentElement.style.backgroundColor=""}},[S]),(0,r.jsx)(f,{pdfUrl:t,children:(0,r.jsxs)("div",{className:"relative w-full min-h-screen h-full overflow-hidden flex flex-col",style:{backgroundColor:S,minHeight:"calc(var(--vh, 1vh) * 100)"},children:[(0,r.jsx)(R,{onDownload:()=>{c.x.success.ux("Download button clicked")},onViewSummary:()=>{v(!0),c.x.success.ux("Summary view opened")},onContact:()=>{c.x.success.ux("Contact button clicked"),window.location.href="mailto:brady@pbradygeorgen.com?subject=Website%20Contact"},onUpload:()=>{j(!0),c.x.success.ux("Upload modal opened")},fileName:b}),(0,r.jsx)(O,{isOpen:k,onClose:()=>j(!1),onPdfUploaded:(e,t)=>{localStorage.setItem("currentPdfUrl",e),localStorage.setItem("currentPdfName",t),window.location.reload()}}),!y&&(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center items-center z-20",style:{backgroundColor:S},children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-t-4 border-[var(--cta-primary)] border-solid rounded-full animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-[var(--text-primary)] text-lg font-medium",children:"Loading PDF..."})]})}),x&&(0,r.jsx)("div",{className:"absolute top-4 left-4 z-20 w-[32rem] max-w-[90vw]",children:(0,r.jsx)(l,{onClose:()=>v(!1)})}),(0,r.jsx)("div",{className:"flex-grow flex flex-col overflow-hidden transition-all duration-1500 ease-in-out",style:{backgroundColor:S,opacity:+!!y,transform:y?"scale(1)":"scale(0.98)",height:"calc(var(--vh, 1vh) * 100 - ".concat(D,")"),minHeight:"calc(var(--vh, 1vh) * 100 - ".concat(D,")"),paddingTop:"0.5rem",paddingBottom:"0.5rem",flex:1},children:(0,r.jsx)("div",{className:"mx-auto rounded-lg overflow-hidden shadow-lg flex-grow pdf-container",style:{backgroundColor:S,width:_,maxWidth:"1000px",minWidth:"320px",height:"100%",minHeight:"100%",flex:1,display:"flex",flexDirection:"column",border:"1px solid rgba(0, 0, 0, 0.1)",marginLeft:"auto",marginRight:"auto"},children:(0,r.jsx)("iframe",{ref:m,src:"".concat(t,"#toolbar=0&navpanes=0&scrollbar=1&view=FitH"),className:"w-full h-full flex-grow pdf-iframe",style:{border:"none",backgroundColor:S,margin:0,padding:0,display:"block",minHeight:"100%",flex:1,position:"relative",width:"100%",height:"100%"},title:"PDF Viewer",onLoad:()=>{c.x.success.ux("PDF loaded successfully"),h(!0),p||setTimeout(()=>{g(!0),setTimeout(()=>{s(!0),setTimeout(()=>{s(!1),w(!0)},2e3)},1e3)},700)}})})})]})})}},4691:e=>{e.exports={salingerHeader:"SalingerHeader_salingerHeader__pWFj7",siteTitle:"SalingerHeader_siteTitle__yD_pW",headerLeft:"SalingerHeader_headerLeft__isK_A",summaryLink:"SalingerHeader_summaryLink__3YEGk",headerActions:"SalingerHeader_headerActions__Y3XF5",downloadContainer:"SalingerHeader_downloadContainer__VN6NI",actionLink:"SalingerHeader_actionLink__7SKFy",downloadMenu:"SalingerHeader_downloadMenu__X56wt",downloadOptionGroup:"SalingerHeader_downloadOptionGroup__AohYc",previewButton:"SalingerHeader_previewButton__8AlUA",downloadOption:"SalingerHeader_downloadOption__DCaqU",actionIcon:"SalingerHeader_actionIcon__R9VQu",previewIcon:"SalingerHeader_previewIcon__xbwuY",downloadIcon:"SalingerHeader_downloadIcon__0fBk_",loadingText:"SalingerHeader_loadingText__4gjoR",loadingSpinner:"SalingerHeader_loadingSpinner__YzLXl",spin:"SalingerHeader_spin__J4Kjh",actionSeparator:"SalingerHeader_actionSeparator__DeEjy"}},5976:e=>{e.exports={modalOverlay:"PreviewModal_modalOverlay__QSI4G",fadeIn:"PreviewModal_fadeIn__xhQkT",modalContent:"PreviewModal_modalContent__JLQbv",slideIn:"PreviewModal_slideIn__VDH04",modalContentLeft:"PreviewModal_modalContentLeft__ToHbg",slideInLeft:"PreviewModal_slideInLeft__B5dk_",modalContentRight:"PreviewModal_modalContentRight__rV_Uo",slideInRight:"PreviewModal_slideInRight__iUDQq",modalHeader:"PreviewModal_modalHeader__DM3b7",modalTitle:"PreviewModal_modalTitle__rI5D4",headerActions:"PreviewModal_headerActions__Fgd7F",pdfExportButton:"PreviewModal_pdfExportButton__hl6yq",pdfIcon:"PreviewModal_pdfIcon__Vd_tn",closeButton:"PreviewModal_closeButton__Q7S1x",modalBody:"PreviewModal_modalBody__HY8pd",markdownPreview:"PreviewModal_markdownPreview__R4AoL",pdfPreview:"PreviewModal_pdfPreview__iQzBe",pdfFrame:"PreviewModal_pdfFrame__MF1Xx",textPreview:"PreviewModal_textPreview__hKOja",modalFooter:"PreviewModal_modalFooter__6K4OJ",downloadButton:"PreviewModal_downloadButton__xzUzJ",downloadIcon:"PreviewModal_downloadIcon__TuZyv",cancelButton:"PreviewModal_cancelButton__7Z0Rp"}},6652:e=>{e.exports={modalOverlay:"SummaryModal_modalOverlay__nmHWY",fadeIn:"SummaryModal_fadeIn__EXYMJ",modalContent:"SummaryModal_modalContent__EXCEK",slideIn:"SummaryModal_slideIn__HLE6w",modalContentLeft:"SummaryModal_modalContentLeft__xUA5G",slideInLeft:"SummaryModal_slideInLeft__S11Xx",modalContentRight:"SummaryModal_modalContentRight__rnncm",slideInRight:"SummaryModal_slideInRight__O_Kv5",modalHeader:"SummaryModal_modalHeader__RZXSP",modalTitle:"SummaryModal_modalTitle__XtyHI",headerActions:"SummaryModal_headerActions__YVXON",refreshButton:"SummaryModal_refreshButton__AystP",refreshIcon:"SummaryModal_refreshIcon__UVMp5",downloadContainer:"SummaryModal_downloadContainer__D15Sm",actionLink:"SummaryModal_actionLink__e9loA",actionIcon:"SummaryModal_actionIcon__z3rWf",downloadMenu:"SummaryModal_downloadMenu__9y_v7",downloadOptionGroup:"SummaryModal_downloadOptionGroup__GHKrV",previewButton:"SummaryModal_previewButton__CsDb1",previewIcon:"SummaryModal_previewIcon__5cpvZ",downloadOption:"SummaryModal_downloadOption__4UFK5",downloadIcon:"SummaryModal_downloadIcon__iV8rb",closeButton:"SummaryModal_closeButton__kRi_J",modalBody:"SummaryModal_modalBody__wR4vq",markdownPreview:"SummaryModal_markdownPreview__T4pc6",loadingText:"SummaryModal_loadingText__qGZPX",loadingContainer:"SummaryModal_loadingContainer__qH4Di",loadingSpinner:"SummaryModal_loadingSpinner__WLzHk",pdfExportButton:"SummaryModal_pdfExportButton__kkIVs"}}}]);